@{
    ViewBag.Title = "Catalog";
}

@using System.Collections.Generic
@model List<Tweb_lavender_paradise.Domain.Models.Product>

<style>

    .category-title {
        color: var(--lavender-dark);
        padding: 2rem 0 1rem;
        margin-bottom: 2rem;
        border-bottom: 2px solid var(--lavender-light);
        position: relative;
    }

        .category-title::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100px;
            height: 2px;
            background-color: var(--lavender-main);
        }

    .category-section {
        margin-bottom: 4rem;
    }
</style>
<section class="py-5 bg-light mt-5">
    <div class="container">
        <h2 class="text-center mb-5">Каталог товаров</h2>
        <!-- Категория: Ароматерапия и масла -->
        <div class="category-section">
            <h3 class="category-title">Ароматерапия и масла</h3>
            <div class="row">
            @foreach (var item in Model){
                if (item.Category == "Aromatherapy"){
                    using(Html.BeginForm("ProductDetails", "Product", FormMethod.Post, new {autocomplete = "off"}))
                    {
                    <div class="col-md-4 mb-4">
                        <div class="product-card">
                            @Html.Partial("_GoodsCards", item)
                            <input type="hidden" name="btn" value="@item.GoodCode" />

                            <button class="btn btn-lavender" type="submit" name="btn" value="@item.GoodCode">
                                <i class="fas fa-shopping-cart me-2"></i> В корзину
                            </button>
                        </div>
                    </div>
                    }
                }
            }
            </div>
        </div>
    </div>

        <!-- Категория: Уход за телом -->
        <div class="category-section">
            <h3 class="category-title">Уход за телом</h3>
            <div class="row">
                @foreach (var item in Model)
                {
                    if (item.Category == "Body Care"){
                        @Html.Partial("_GoodsCards", item) // Подключаем шаблон _GoodsCards
                    }
                }
            </div>
        </div>

        <!-- Категория: Для дома и отдыха -->
        <div class="category-section">
            <h3 class="category-title">Для дома и отдыха</h3>
            <div class="row">
                @foreach (var item in Model)
                {
                    if (item.Category == "For Home and Rest"){
                        @Html.Partial("_GoodsCards", item) // Подключаем шаблон _GoodsCards
                    }
                }
            </div>
        </div>

        <!-- Категория: Продукты питания -->
        <div class="category-section">
            <h3 class="category-title">Продукты питания</h3>
            <div class="row">
                @foreach (var item in Model)
                {
                    if (item.Category == "Products for Consuming"){
                        @Html.Partial("_GoodsCards", item) // Подключаем шаблон _GoodsCards
                    }
                }
            </div>
        </div>
    </divS
</section>

<script>
    document.querySelector('.scroll-to-contacts').addEventListener('click', function (e) {
        e.preventDefault();

        document.querySelector('#contacts-section').scrollIntoView({
            behavior: 'smooth'
        });
    });
</script>
